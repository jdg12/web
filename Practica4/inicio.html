<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <title>Inicio</title>
    <script src="jquery-3.1.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            var mesa1, mesa2, mesa3, mesa4, mesa5, actual;
            actual = 1;
            mesa1 = "";
            mesa2 = "";
            mesa3 = "";
            mesa4 = "";
            mesa5 = "";

            $("#platos2").hide();
            $("#platos3").hide();
            $("input[name=menu]").click(function() {
                if ($('input:radio[name=menu]:checked').val() == "primero") {
                    $("#platos1").show();
                    $("#platos2").hide();
                    $("#platos3").hide();
                }
                if ($('input:radio[name=menu]:checked').val() == "segundo") {
                    $("#platos1").hide();
                    $("#platos2").show();
                    $("#platos3").hide();
                }
                if ($('input:radio[name=menu]:checked').val() == "postre") {
                    $("#platos1").hide();
                    $("#platos2").hide();
                    $("#platos3").show();
                }
            });
            $('#mesas').change(function() {
                var res;
                var selectedValue = parseInt(jQuery(this).val());
                actual = selectedValue;
                switch (actual) {
                    case 1:
                        res = mesa1.split("-");
                        break;
                    case 2:
                        res = mesa2.split("-");
                        break;
                    case 3:
                        res = mesa3.split("-");
                        break;
                    case 4:
                        res = mesa4.split("-");
                        break;
                    case 5:
                        res = mesa5.split("-");
                        break;
                    default:
                        alert("catch default");
                        break;
                }
                $('#seleccion').empty();
                $.each(res, function(ind, elem) {
                    $('#seleccion').append(new Option(elem, elem));
                });
            });
            $('#platos1').change(function() {
                anadirPlato(this);
            });
            $('#platos2').change(function() {
                anadirPlato(this);
            });
            $('#platos3').change(function() {
                anadirPlato(this);
            });

            function anadirPlato(formulario) {
                var selectedValue = jQuery(formulario).val();
                var res;
                switch (actual) {
                    case 1:
                        mesa1 = mesa1 + selectedValue + "-";
                        res = mesa1.split("-");
                        break;
                    case 2:
                        mesa2 = mesa2 + selectedValue + "-";
                        res = mesa2.split("-");
                        break;
                    case 3:
                        mesa3 = mesa3 + selectedValue + "-";
                        res = mesa3.split("-");
                        break;
                    case 4:
                        mesa4 = mesa4 + selectedValue + "-";
                        res = mesa4.split("-");
                        break;
                    case 5:
                        mesa5 = mesa5 + selectedValue + "-";
                        res = mesa5.split("-");
                        break;
                    default:
                        alert("catch default");
                        break;
                }
                $('#seleccion').empty();
                $.each(res, function(ind, elem) {
                    $('#seleccion').append(new Option(elem, elem));
                });
            }
            $("#pagar").click(function() {
                if (document.formulario.seleccion.length % 3 == 0) {
                    $("#total").val(Calcular());
                } else {
                    alert("Selecciona 3 platos para completar el menú");
                }
            });

        });

        function Calcular() {
            var length = document.formulario.seleccion.length;
            var suma = 0;
            suma = length * 5;
            if (document.formulario.extra1.checked) {
                suma = suma + 2;
            }
            if (document.formulario.extra2.checked) {
                suma = suma + 4;
            }
            return suma;
        }

        function Clear() {
            document.formulario.seleccion.options.length = 0;
        }

    </script>
</head>

<body class="inicio" style="height: 100%;">
    <div class="contenido" style="min-height: 100%;height: auto !important;height: 100%;margin: 0 auto -4em;">

        <!--Menu de arriba-->
        <ul style="list-style-type: none;padding: 0;overflow: hidden;background-color: #333333;margin-left: -10px;margin-right: -10px;margin-top: -10px;">
            <li style="float: left;"><a style="display: block;color: white;text-align: center;padding: 16px;text-decoration: none;margin-left: 10px;" href="nacional.html">Turismo nacional</a></li>
            <li style="float: left;"><a style="display: block;color: white;text-align: center;padding: 16px;text-decoration: none;margin-left: 10px;" href="internacional.html">Turismo internacional</a></li>
            <li style="float: left;"><a style="display: block;color: white;text-align: center;padding: 16px;text-decoration: none;margin-left: 10px;" href="alquiler.html">Alquileres</a></li>
            <li style="float: right;"><a style="display: block;color: white;text-align: center;padding: 16px;text-decoration: none;margin-left: 10px;" href="login.html">Login</a></li>
        </ul>

        <!--Aqui comienza el contenido de verdad-->
        <h1>SUPERMENU</h1>
        <form name="formulario" action="">
            <input type="radio" name="menu" value="primero" checked="checked"> Primero<br>
            <input type="radio" name="menu" value="segundo"> Segundo<br>
            <input type="radio" name="menu" value="postre"> Postre
            <br><br>
            <select id="mesas" name="mesas">    
       <option value="1" selected="selected">Mesa 1</option>
       <option value="2">Mesa 2</option>
       <option value="3">Mesa 3</option>
                <option value="4">Mesa 4</option>
                <option value="5">Mesa 5</option>
   </select><br><br>

            <!--Este es el desplegable de la izquierda-->
            <select id="platos1" name="platos" size=7 style="min-width: 150px;" "max-height: 121px;">    
			
			<!--Primeros-->
			<option value="Ensalada">Ensalada</option>
             <option value="Gazpacho">Gazpacho</option>
             <option value="Crema de calabacín">Crema de calabacín</option>
             <option value="Sopa de marisco">Sopa de marisco</option>
             <option value="Ensalada de cacahuete">Ensalada de cacahuete</option>
             <option value="Tabla de ibéricos">Tabla de ibéricos</option>
             <option value="Patatas a la vieja">Patatas a la vieja</option>
				
   </select>
            <select id="platos2" name="platos" size=7 style="min-width: 150px;" "max-height: 121px;">    
				
				<option value="Pizza">Pizza</option>
             <option value="Hamburguesa">Hamburguesa</option>
             <option value="Solomillo">Solomillo con salsa de nata</option>
             <option value="Pato a la naranja">Pato a la naranja</option>
             <option value="Ramen">Ramen</option>
             <option value="Rabo de toro">Rabo de toro</option>
             <option value="Huevos con patatas fritas">Huevos con patatas fritas</option>
				
				
   </select>
            <select id="platos3" name="platos" size=7 style="min-width: 150px;" "max-height: 121px;">    
				
			<option value="Sopa de yogur">Sopa de yogur</option>
             <option value="Piramide de chocolate">Piramide chocolate</option>
             <option value="Torrija">Torrija</option>
             <option value="Flan">Flan</option>
             <option value="Natillas">Natillas</option>
             <option value="Arroz con leche">Arroz con leche</option>
             <option value="Helado">Helado</option>
				
   </select>
            <!--PLATOS SELECCIONADOS-->
            <!--Este es el desplegable de la derecha-->
            <select id="seleccion" name="seleccion" size=7 style="min-width: 150px;" "max-height: 121px;">    
    
   </select><br>
            <input type="checkbox" name="extra1" value="cafe">Café
            <input type="checkbox" name="extra2" value="copa">Copa <br>
            <p>Total</p> <input type="text" id="total" value=""><br><br>
            <input id="pagar" type="button" value="Calcular Cuenta">
            <input id="pagado" type="button" value="Pagado" onclick="Clear()">
        </form>
    </div>

    <!--Pie de página-->
    <div class="footer" style="height: 4em;">
        <ul style="list-style-type: none;margin: 0;overflow: hidden;background-color: #333333;">
            <li style="float: left;"><a style="display: block;color: white;text-align: center;padding: 16px;text-decoration: none;margin-left: 10px;" href="registro.html">Registrarse</a></li>
            <li style="float: left;"><a style="display: block;color: white;text-align: center;padding: 16px;text-decoration: none;margin-left: 10px;" href="sugerencias.html">Quejas/Sugerencias</a></li>
            <li style="float: left;"><a style="display: block;color: white;text-align: center;padding: 16px;text-decoration: none;margin-left: 10px;" href="opinion.html">Opinión</a></li>
        </ul>
    </div>
</body>
